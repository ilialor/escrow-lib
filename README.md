# Escrow Library

Библиотека для управления эскроу-счетами и групповыми заказами с функциями коммуникации и документооборота.

## Функциональность

- Создание групповых заказов
- Вступление новых участников в заказ
- Голосование и смена представителя заказа квалифицированным большинством
- Управление балансами пользователей и эскроу-счетами
- Оформление Definition of Ready, Definition of Done и дорожных карт
- Оформление промежуточных и финальных актов
- Выплаты на балансы исполнителей
- Обсуждения и чаты между участниками и исполнителями
- Обмен файлами и материалами

## Установка

```bash
npm install escrow-lib
```

## Примеры использования

```typescript
import EscrowManager, { UserType } from 'escrow-lib';

// Создание экземпляра эскроу-менеджера
const escrow = new EscrowManager();

// Создание пользователей
const customer = await escrow.createUser('Заказчик', UserType.CUSTOMER);
const contractor = await escrow.createUser('Исполнитель', UserType.CONTRACTOR);

// Создание заказа
const order = await escrow.createOrder(
  customer.id,
  'Заголовок заказа',
  'Описание заказа',
  [
    { description: 'Веха 1', amount: '500' },
    { description: 'Веха 2', amount: '500' }
  ]
);

// Финансирование заказа
await escrow.deposit(customer.id, '1000');
await escrow.contributeFunds(order.id, customer.id, '1000');

// Назначение исполнителя
await escrow.assignContractor(order.id, contractor.id);
```

## Документация

Полная документация доступна в директории [docs](./docs).

## Модульная архитектура

Библиотека построена на основе модульной архитектуры с разделением ответственностей:

- **Модели**: базовые сущности системы (пользователи, заказы, вехи, акты)
- **Сервисы**: бизнес-логика для работы с моделями
- **Интерфейсы**: контракты для взаимодействия между модулями
- **Утилиты**: вспомогательные функции и константы

## Тестирование

```bash
npm test
```

## Лицензия

MIT 